{"ast":null,"code":"\"use strict\";\n\nvar __makeTemplateObject = this && this.__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n  return cooked;\n};\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Notifications = exports.NotificationType = void 0;\nvar react_1 = __importStar(require(\"react\"));\nvar react_client_1 = require(\"@speechly/react-client\");\nvar styled_components_1 = __importDefault(require(\"styled-components\"));\nvar Info_1 = require(\"./Info\");\nvar types_1 = require(\"../types\");\nvar NotificationType;\n(function (NotificationType) {\n  NotificationType[\"info\"] = \"info\";\n  NotificationType[\"warning\"] = \"warning\";\n})(NotificationType = exports.NotificationType || (exports.NotificationType = {}));\nvar NotificationId = 0;\nvar Notifications = function (props) {\n  var speechState = react_client_1.useSpeechContext().speechState;\n  var _a = react_1.useState(null),\n    notification = _a[0],\n    setNotification = _a[1];\n  /*\n    {\n      type: NotificationType.info,\n      message: \"Could not find 'Good vibes pants'\",\n      footnote: \"Try: 'Sneakers'\",\n      visible: true,\n    }\n    {\n      type: NotificationType.warning,\n      message: \"Bad audio. Please say again.\",\n      visible: true,\n    },\n    {\n      type: NotificationType.warning,\n      message: \"Sorry, all we hear is silence.\",\n      visible: true,\n    },\n    {\n      type: NotificationType.info,\n      message: \"Please say again\",\n      footnote: 'Try: \"Sneakers\"',\n      visible: true,\n    }\n  */\n  react_1.useEffect(function () {\n    var subDismiss = PubSub.subscribe(types_1.SpeechlyUiEvents.DismissNotification, function (message, payload) {\n      hideHints();\n    });\n    var subNotification = PubSub.subscribe(types_1.SpeechlyUiEvents.Notification, function (message, payload) {\n      setNotification({\n        type: NotificationType.info,\n        notificationId: \"msg-\" + NotificationId++,\n        message: payload.message,\n        footnote: payload.footnote,\n        visible: true\n      });\n    });\n    var subWarningNotification = PubSub.subscribe(types_1.SpeechlyUiEvents.WarningNotification, function (message, payload) {\n      setNotification({\n        type: NotificationType.warning,\n        notificationId: \"msg-\" + NotificationId++,\n        message: payload.message,\n        footnote: payload.footnote,\n        visible: true\n      });\n    });\n    return function () {\n      PubSub.unsubscribe(subNotification);\n      PubSub.unsubscribe(subWarningNotification);\n      PubSub.unsubscribe(subDismiss);\n    };\n  }, []);\n  react_1.useEffect(function () {\n    switch (speechState) {\n      case react_client_1.SpeechState.Recording:\n        {\n          hideHints();\n        }\n    }\n  }, [speechState]);\n  var hideHints = function () {\n    setNotification(function (prev) {\n      return prev !== null ? __assign(__assign({}, prev), {\n        visible: false\n      }) : null;\n    });\n  };\n  return react_1.default.createElement(react_1.default.Fragment, null, (notification === null || notification === void 0 ? void 0 : notification.type) === NotificationType.info && react_1.default.createElement(Info_1.Info, {\n    visible: (notification === null || notification === void 0 ? void 0 : notification.visible) || false,\n    color: \"#fff\",\n    backgroundcolor: \"#46c\"\n  }, react_1.default.createElement(InfoIcon, {\n    color: \"#fff\"\n  }), react_1.default.createElement(\"div\", null, notification === null || notification === void 0 ? void 0 : notification.message, (notification === null || notification === void 0 ? void 0 : notification.footnote) !== null && react_1.default.createElement(react_1.default.Fragment, null, react_1.default.createElement(\"br\", null), react_1.default.createElement(\"small\", null, notification.footnote)))), (notification === null || notification === void 0 ? void 0 : notification.type) === NotificationType.warning && react_1.default.createElement(Info_1.Info, {\n    visible: (notification === null || notification === void 0 ? void 0 : notification.visible) || false,\n    color: \"#000\",\n    backgroundcolor: \"#fc0\"\n  }, react_1.default.createElement(WarningIcon, {\n    color: \"#000\"\n  }), react_1.default.createElement(\"div\", null, notification === null || notification === void 0 ? void 0 : notification.message, (notification === null || notification === void 0 ? void 0 : notification.footnote) !== null && react_1.default.createElement(react_1.default.Fragment, null, react_1.default.createElement(\"br\", null), react_1.default.createElement(\"small\", null, notification === null || notification === void 0 ? void 0 : notification.footnote)))));\n};\nexports.Notifications = Notifications;\nvar InfoIcon = function (props) {\n  return react_1.default.createElement(IconSvg, {\n    viewBox: \"0 0 24 24\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, react_1.default.createElement(\"g\", {\n    fill: props.color,\n    fillRule: \"evenodd\"\n  }, react_1.default.createElement(\"path\", {\n    d: \"M12 1.5c5.799 0 10.5 4.701 10.5 10.5S17.799 22.5 12 22.5 1.5 17.799 1.5 12 6.201 1.5 12 1.5zM12 3a9 9 0 100 18 9 9 0 000-18z\"\n  }), react_1.default.createElement(\"path\", {\n    fillRule: \"nonzero\",\n    d: \"M13 10v8h-2v-6.5h-1V10z\"\n  }), react_1.default.createElement(\"circle\", {\n    cx: \"11.75\",\n    cy: \"7.5\",\n    r: \"1.5\"\n  })));\n};\nvar WarningIcon = function (props) {\n  return react_1.default.createElement(IconSvg, {\n    viewBox: \"0 0 24 24\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, react_1.default.createElement(\"path\", {\n    d: \"M12.738.743a1.5 1.5 0 01.568.567l10.429 18.452A1.5 1.5 0 0122.429 22H1.571a1.5 1.5 0 01-1.306-2.238L10.695 1.31a1.5 1.5 0 012.043-.567zM8.5 13H7v1a5.001 5.001 0 004.25 4.944V21h1.5v-2.056A5.001 5.001 0 0017 14v-1h-1.5v1l-.005.192A3.5 3.5 0 0112 17.5l-.192-.005A3.5 3.5 0 018.5 14v-1zM12 6a2 2 0 00-2 2v6a2 2 0 104 0V8a2 2 0 00-2-2z\",\n    fill: props.color,\n    fillRule: \"evenodd\"\n  }));\n};\nvar IconSvg = styled_components_1.default.svg(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  width: 1.5rem;\\n  height: 1.5rem;\\n  flex-shrink: 0;\\n  margin-right: 0.5rem;\\n  margin-bottom: auto;\\n\"], [\"\\n  width: 1.5rem;\\n  height: 1.5rem;\\n  flex-shrink: 0;\\n  margin-right: 0.5rem;\\n  margin-bottom: auto;\\n\"])));\nvar templateObject_1;","map":{"version":3,"names":["react_1","__importStar","require","react_client_1","styled_components_1","__importDefault","Info_1","types_1","NotificationType","exports","NotificationId","Notifications","props","speechState","useSpeechContext","_a","useState","notification","setNotification","useEffect","subDismiss","PubSub","subscribe","SpeechlyUiEvents","DismissNotification","message","payload","hideHints","subNotification","Notification","type","info","notificationId","footnote","visible","subWarningNotification","WarningNotification","warning","unsubscribe","SpeechState","Recording","prev","__assign","default","createElement","Fragment","Info","color","backgroundcolor","InfoIcon","WarningIcon","IconSvg","viewBox","xmlns","fill","fillRule","d","cx","cy","r","svg","templateObject_1","__makeTemplateObject"],"sources":["../../src/components/Notifications.tsx"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}