{"ast":null,"code":"\"use strict\";\n\nvar __makeTemplateObject = this && this.__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n  return cooked;\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Callout = void 0;\nvar react_1 = __importDefault(require(\"react\"));\nvar styled_components_1 = __importDefault(require(\"styled-components\"));\nvar react_spring_1 = require(\"react-spring\");\nvar CalloutContainerDiv = styled_components_1.default(react_spring_1.animated.div)(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  position: absolute;\\n  left: \", \";\\n  top: \", \";\\n  transform: \", \";\\n  padding: \", \";\\n  z-index: 10;\\n  pointer-events: auto;\\n\"], [\"\\n  position: absolute;\\n  left: \", \";\\n  top: \", \";\\n  transform: \", \";\\n  padding: \", \";\\n  z-index: 10;\\n  pointer-events: auto;\\n\"])), function (props) {\n  return \"\" + props.ax;\n}, function (props) {\n  return \"\" + props.ay;\n}, function (props) {\n  return \"translate(calc(-1 * \" + props.halign + \"), calc(-1 * \" + props.valign + \"));\";\n}, function (props) {\n  return \"\" + props.arrowpad;\n});\nvar CalloutDiv = styled_components_1.default.div(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  position: relative;\\n  box-sizing: border-box;\\n  min-width: 8rem;\\n  \", \";\\n  padding: 0.75rem 1rem;\\n  \", \";\\n  \", \";\\n  text-align: center;\\n  user-select: none;\\n  color:#fff;\\n  z-index: 10;\\n\"], [\"\\n  position: relative;\\n  box-sizing: border-box;\\n  min-width: 8rem;\\n  \", \";\\n  padding: 0.75rem 1rem;\\n  \", \";\\n  \", \";\\n  text-align: center;\\n  user-select: none;\\n  color:#fff;\\n  z-index: 10;\\n\"])), function (props) {\n  return props.borderRadius !== undefined && \"border-radius: \" + props.borderRadius;\n}, function (props) {\n  return \"background-color: \" + props.backgroundColor;\n}, function (props) {\n  return props.useShadow && 'box-shadow: 0 0.2rem 0.5rem #00000040';\n});\nvar ArrowDiv = styled_components_1.default.div(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  position: absolute;\\n  left: \", \";\\n  top: \", \";\\n\\n  transform: translate(-50%, -50%) rotate(45deg);\\n  width: \", \";\\n  height: \", \";\\n  \", \";\\n  z-index: 10;\\n\"], [\"\\n  position: absolute;\\n  left: \", \";\\n  top: \", \";\\n\\n  transform: translate(-50%, -50%) rotate(45deg);\\n  width: \", \";\\n  height: \", \";\\n  \", \";\\n  z-index: 10;\\n\"])), function (props) {\n  return \"calc(\" + props.ax + \" - \" + props.offsetX + \")\";\n}, function (props) {\n  return \"calc(\" + props.ay + \" - \" + props.offsetY + \")\";\n}, function (props) {\n  return \"\" + props.size;\n}, function (props) {\n  return \"\" + props.size;\n}, function (props) {\n  return \"background-color: \" + props.backgroundColor;\n});\nvar ArrowShadowDiv = styled_components_1.default.div(templateObject_4 || (templateObject_4 = __makeTemplateObject([\"\\n  position: absolute;\\n  left: \", \";\\n  top: \", \";\\n\\n  transform: translate(-50%, -50%) rotate(45deg);\\n  width: \", \";\\n  height: \", \";\\n  background-color: #00000000;\\n  box-shadow: 0 0.2rem 0.5rem #00000040;\\n  z-index: 9;\\n\"], [\"\\n  position: absolute;\\n  left: \", \";\\n  top: \", \";\\n\\n  transform: translate(-50%, -50%) rotate(45deg);\\n  width: \", \";\\n  height: \", \";\\n  background-color: #00000000;\\n  box-shadow: 0 0.2rem 0.5rem #00000040;\\n  z-index: 9;\\n\"])), function (props) {\n  return \"calc(\" + props.ax + \" - \" + props.offsetX + \")\";\n}, function (props) {\n  return \"calc(\" + props.ay + \" - \" + props.offsetY + \")\";\n}, function (props) {\n  return \"\" + props.size;\n}, function (props) {\n  return \"\" + props.size;\n});\nvar Callout = function (_a) {\n  var children = _a.children,\n    _b = _a.onClick,\n    onClick = _b === void 0 ? function () {} : _b,\n    _c = _a.sourceAnchors,\n    sourceAnchors = _c === void 0 ? {\n      x: '50%',\n      y: '5%'\n    } : _c,\n    _d = _a.destAnchors,\n    destAnchors = _d === void 0 ? {\n      x: '50%',\n      y: '100%'\n    } : _d,\n    _e = _a.visible,\n    visible = _e === void 0 ? true : _e,\n    _f = _a.arrowSize,\n    arrowSize = _f === void 0 ? {\n      value: 0.5,\n      unit: 'rem'\n    } : _f,\n    _g = _a.useShadow,\n    useShadow = _g === void 0 ? false : _g,\n    _h = _a.backgroundColor,\n    backgroundColor = _h === void 0 ? '#000' : _h,\n    borderRadius = _a.borderRadius;\n  var springProps = react_spring_1.useSpring({\n    v: visible ? 1 : 0,\n    config: {\n      tension: 200\n    }\n  });\n  return react_1.default.createElement(CalloutContainerDiv, {\n    ax: sourceAnchors.x,\n    ay: sourceAnchors.y,\n    halign: destAnchors.x,\n    valign: destAnchors.y,\n    arrowpad: \"\" + arrowSize.value + arrowSize.unit,\n    onClick: function () {\n      return onClick();\n    },\n    style: {\n      visibility: springProps.v.interpolate(function (x) {\n        return x > 0 ? 'visible' : 'hidden';\n      }),\n      clipPath: springProps.v.interpolate(function (x) {\n        return \"circle(\" + x * 100 + \"% at center)\";\n      })\n    }\n  }, react_1.default.createElement(CalloutDiv, {\n    useShadow: useShadow,\n    backgroundColor: backgroundColor,\n    borderRadius: borderRadius\n  }, children), react_1.default.createElement(ArrowDiv, {\n    backgroundColor: backgroundColor,\n    size: \"\" + arrowSize.value * Math.sqrt(2) + arrowSize.unit,\n    ax: \"50%\",\n    ay: \"100%\",\n    offsetX: \"0rem\",\n    offsetY: \"\" + arrowSize.value + arrowSize.unit\n  }), useShadow && react_1.default.createElement(ArrowShadowDiv, {\n    size: \"\" + arrowSize.value * Math.sqrt(2) + arrowSize.unit,\n    ax: \"50%\",\n    ay: \"100%\",\n    offsetX: \"0rem\",\n    offsetY: \"\" + arrowSize.value + arrowSize.unit\n  }));\n};\nexports.Callout = Callout;\nvar templateObject_1, templateObject_2, templateObject_3, templateObject_4;","map":{"version":3,"names":["react_1","__importDefault","require","styled_components_1","react_spring_1","CalloutContainerDiv","default","animated","div","templateObject_1","__makeTemplateObject","props","ax","ay","halign","valign","arrowpad","CalloutDiv","templateObject_2","borderRadius","undefined","backgroundColor","useShadow","ArrowDiv","templateObject_3","offsetX","offsetY","size","ArrowShadowDiv","templateObject_4","Callout","_a","children","_b","onClick","_c","sourceAnchors","x","y","_d","destAnchors","_e","visible","_f","arrowSize","value","unit","_g","_h","springProps","useSpring","v","config","tension","createElement","style","visibility","interpolate","clipPath","Math","sqrt","exports"],"sources":["../../src/components/Callout.tsx"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}